---
title: "コンテンツの更新ワークフロー"
---

(Original: https://docs.unity3d.com/Packages/com.unity.addressables@1.19/manual/ContentUpdateWorkflow.html)

# コンテンツ更新ワークフロー

Addressables では、CDNから動的にコンテンツをダウンロードするゲームを想定したコンテンツアップデートワークフローを提供しています。このような状況では、プレイヤー（アプリ、exe、apkなど）が作成され、（Androidアプリストアなどで）デプロイされます。このアプリは、実行中にCDNと通信し追加のコンテンツを見つけてダウンロードします。

これは、プラットフォームが提供するパッチシステムを使用するゲーム（SwitchやSteamなど）とは異なります。これらのゲームでは、ゲームのすべてのビルドが、アップデートフローを完全に回避した、完全に新しいコンテンツのビルドである必要があります。この場合、ビルドのたびに生成されるaddressable_content_state.binファイルは、破棄または無視することができます。

## プロジェクトの構造

Unityでは、ゲームコンテンツを2つのカテゴリに分類することを推奨しています。

- `リリース後に変更できないもの`: 更新する必要のない静的なコンテンツ
- `リリース後に変更可能なもの`: アップデートが予想される動的コンテンツ


ここでいうリリースとは、技術的には、ビルドされた Addressables Contents のリリースのことで、プレイヤービルドがまだリリースされていない場合は、プレイヤービルドと一緒にリリースされます。プレイヤービルドがリリースされた後、これらのゲームコンテンツカテゴリーは、コンテンツアップデートのリリースに関連します。新しい remote Addressable Groups は、新しいプレーヤービルドをリリースすることなく、コンテンツアップデートに組み込むことができます。

この構造では、`リリース後に変更できないもの`とマークされたコンテンツは、アプリケーションと一緒にリリースされ（またはインストール後すぐにダウンロードされ）、大きなバンドルにはほとんど含まれません。`リリース後に変更可能なもの`とされたコンテンツは、オンライン上に置かれますが、理想的には、より小さなバンドルで、各アップデートに必要なデータ量を最小限に抑えることができます。Addressable Assets System の目標の一つは、スクリプトを変更することなく、この構造を簡単に扱え、変更できるようにすることです。

しかし、Addressable Assets Systemでは、アプリケーションを全く新しいビルドで発行したくない場合に、`リリース後に変更できないもの`とマークされたコンテンツを変更しなければならない状況にも対応できます。変更されたアセットとその依存関係（および従属関係）は、リリースされたコンテンツの代わりに使用される新しいバンドルに複製されます。これにより、バンドル全体を置き換えたり、ゲームを再構築するよりも、はるかに小規模なアップデートが可能になります。ビルドを作成した後は、完全に新しいビルドを作成するまで、グループの状態を`リリース後に変更できないもの`から`リリース後に変更可能なもの`、またはその逆に変更しないことが重要です。コンテンツのフルビルド後、コンテンツのアップデート前にグループを変更してしまうと、Addressableはアップデートに必要な正しい変更を生成できません。

なお、リモートアップデートができない場合（現行のビデオゲーム機の多くや、サーバーのないゲームなど）は、毎回完全な新規ビルドを行う必要があります。
